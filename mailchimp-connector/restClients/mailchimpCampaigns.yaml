baseUrl: !env https://${MAILCHIMP_SERVER_PREFIX}.api.mailchimp.com/3.0

cacheConfiguration:
  expireIn: 60

securitySchemes:
  mailchimpApiAuthorization:
    $type: basic
    username: !env ${MAILCHIMP_USERNAME}
    password: !env ${MAILCHIMP_API_KEY}


restCalls:
  campaigns:
    path: '/campaigns'
    method: get
    entityClass: com.fasterxml.jackson.databind.JsonNode
    securityScheme: mailchimpApiAuthorization
  
  campaign:
    path: '/campaigns/{id}'
    method: get
    entityClass: com.fasterxml.jackson.databind.JsonNode
    securityScheme: mailchimpApiAuthorization

  scheduleCampaign:
    path: '/campaigns/{id}/actions/schedule'
    method: post
    body: '{"schedule_time": "{schedule_time}"}'
    securityScheme: mailchimpApiAuthorization